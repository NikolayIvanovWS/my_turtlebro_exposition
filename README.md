# Пакет выставочного робота my_turtlebro_exposition для робота TurtleBro

Пакет предназначен для работы робота Turtlebro с комплектом расширения для сборки полезной нагрузки "Робот-курьер" или "Робот-экскурсовод". Основное предназначение пакета - развлекательное - демонстрация робота на выставках с озвучиванием различной информации через колонку при нажатии отдельно выведенных кнопок.

# Необходимое оборудование

- Робот TurtleBro;
- Аудиосистема (колонка с питанием от USB и подключением к Raspberry Pi через mini-Jack);
- Две нажимные кнопки без фиксации.

# Установка пакета

Для установки пакета на робота TurtleBro воспользуйтесь следующими командами:

```
cd ~/catkin_ws/src
git clone https://github.com/NikolayIvanovWS/my_turtlebro_exposition.git
cd ../
catkin_make --pkg=my_turtlebro_exposition
```
## Подключение полезной нагрузки

Для работы полезной нагрузки выставочного робота, необходимо загрузить на робота Ардуино скетч, который находится в папке: `arduino/button_state_ros/button_state_ros.ino`

- Колонка подключается в mini-Jack Raspberry Pi;
- Кнопка 1 подключается в порт A12 платы TurtleBoard;
- Кнопка 2 подключается в порт A14 платы TurtleBoard.

# Запуск пакета

## Запуск пакета вручную

Перед запуском пакета вы можете сконфигурировать фразы, которые будет произносить робот при нажатии кнопки. Конфигурирование фраз происходит в файле `button_text.toml`

Для запуска пакета воспользуйтесь launch-файлом `text_speaker.launch`:

```
roslaunch my_turtlebro_exposition text_speaker.launch
```
## Установка пакета в автозапуск

Если вам необходимо добавить установить данный пакет в автозапуск, то необходимо придерживаться следующего порядка:
- Остановить действующую систему
```
sudo systemctl stop turtlebro
```

- Добавить лаунч-файл `text_speaker.launch` в launch файл `turtlebro.launch`, который находится в системной директории /etc/ros/turtlebro.d/ :

```
cd ..
cd ..
nano /etc/ros/turtlebro.d/turtlebro.launch
---

<include file="$(find my_turtlebro_exposition)/launch/text_speaker.launch"/>
```
 
- Запустить все ноды через запуск сервиса turtlebro:

```
sudo systemctl start turtlebro
```

- При перезагрузке системы будет использован модернизированный .launch файл.
